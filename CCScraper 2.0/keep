
# # Replace all the resource URLs in the HTML content with the local file paths
# for resource in resources:
#     # Get the URL of the resource
#     if resource.name in ['link', 'script', 'iframe']:
#         url = resource.get('src') or resource.get('href')
#     else:
#         url = resource.get('src') or resource.get(
#             'data-src') or resource.get('poster')
#     if not url:
#         continue

#     # Make sure the URL is absolute
#     url = urljoin(driver.current_url, url)

#     # Get the local file path of the resource
#     parsed_url = urlparse(unquote(url))
#     filename = os.path.basename(parsed_url.path)
#     if not filename:
#         filename = 'index.html'
#     filepath = os.path.join(download_directory, filename)

#     # Replace the resource URL with the local file path in the HTML content
#     if resource.name in ['link', 'script', 'iframe']:
#         resource['src'] = filepath
#     else:
#         resource['src'] = filepath if resource.get('src') else None
#         resource['data-src'] = filepath if resource.get('data-src') else None
#         resource['poster'] = filepath if resource.get('poster') else None
#         with open(os.path.join(download_directory, 'index.html'), 'w') as f:
#             f.write(str(soup))

# driver.quit()