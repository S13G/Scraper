# Download all the resources (HTML, CSS, JS, images, etc.)
    resources = soup.find_all(
        ['link', 'script', 'img', 'video', 'audio', 'source', 'iframe'])
    for resource in resources:
        # Get the URL of the resource
        if resource.name in ['link', 'script', 'iframe']:
            url = resource.get('src') or resource.get('href')
        else:
            url = resource.get('src') or resource.get(
                'data-src') or resource.get('poster')
        if not url:
            continue
        if 'https://www.googletagmanager.com' in url:
            continue

        # Make sure the URL is absolute
        url = urljoin(driver.current_url, url)

        # Download the resource
        try:
            response = requests.get(url, stream=True)
            if response.status_code == 200:
                # Get the filename of the resource
                parsed_url = urlparse(unquote(url))
                filename = os.path.basename(parsed_url.path)
                if not filename:
                    filename = 'index.html'
                filepath = os.path.join(download_directory, filename)

                # Save the resource to the file
                with open(filepath, 'wb') as f:
                    for chunk in response.iter_content(chunk_size=1024):
                        f.write(chunk)
        except Exception as e:
            print(f'Error downloading resource: {url}: {e}')

